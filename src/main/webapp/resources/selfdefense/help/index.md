<meta charset="UTF-8">

## Вступление

Игровой demo-сервер доступен так же в интернете 24/7 в целях
ознакомления [http://codenjoy.com/codenjoy-contest](http://codenjoy.com/codenjoy-contest).

Игра с открытым исходным кодом. Для реализации своей игры, исправления
ошибок в текущей и внесения других правок необходимо для начала
[форкнуть проект](https://github.com/codenjoyme/codenjoy).
В корне репозитория есть описание в файле Readme.md - там описано, что делать дальше.

По возникающим вопросам, пиши в [skype alexander.baglay](skype:alexander.baglay)
или на почту [apofig@gmail.com](mailto:apofig@gmail.com).

## В чем суть игры?
Надо написать своего бота для героя, который обыграет других ботов
по очкам. Все играют на одном поле. Герой может передвигаться по
свободным ячейкам во все четыре стороны.

На своем пути герой может повстречать бомбу, чертика и врага.
Если герой нарвется на бомбу - погибнет. За чертика герой получит
бонусные очки. За смерть - штрафные. Очки суммируются.

Побеждает игрок с большим числом очков (до условленного времени).
Мертвый герой тут же появляется в новом месте поля.

## Подключение к серверу

Итак, игрок [регистрируется на сервере](../../../register?gameName=selfdefense),
указывая свой email.

Далее необходимо подключиться [из кода](../../../resources/selfdefense/user/clients.zip)
к серверу через websocket. Это Maven проект и подойдет он для игры на JVM языках.
Как его запустить смотри в корне проекта в файле README.txt

Для других языков придется написать свой клиент (а после пошарить с нами на почту: [apofig@gmail.com](mailto:apofig@gmail.com))

Адрес для подключения к игре на сервере http://codenjoy.com:

`ws://codenjoy.com:80/codenjoy-contest/ws?user=[user]&code=[code]`

Адрес для подключения к игре на сервере, развернутом в локальной сети:

`ws://[server]:8080/codenjoy-contest/ws?user=[user]&code=[code]`

Тут `[server]` - ip-адрес сервера, `[user]` - id игрока, a `[code]` -
твой security token, его ты можешь получить из адресной
строки браузера после регистрации/логина.

После подключения клиент будет регулярно (каждую секунду) получать строку
символов — с закодированным состоянием поля. Формат таков:

`^board=(.*)$`

с помощью этого regexp можно выкусить строку доски.
Вот пример строки от сервера:

<pre>board=☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼          $                 ☼☼                            ☼☼   $              $         ☼☼                       $    ☼☼  $                         ☼☼                            ☼☼        ☻x                  ☼☼               ☺            ☼☼        $ x                 ☼☼        $  x                ☼☼                            ☼☼ $         x               $☼☼         x                  ☼☼         x    $             ☼☼         x                  ☼☼    $                       ☼☼                            ☼☼                       $    ☼☼                            ☼☼                            ☼☼                            ☼☼            $               ☼☼                            ☼☼                            ☼☼       $                $   ☼☼                            ☼☼                $           ☼☼                            ☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼</pre>

Длинна строки равна площади поля. Если вставить символ переноса
строки каждые `sqrt(length(string))` символов, то получится читабельное
изображение поля.

<pre>☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼
☼          $                 ☼
☼                            ☼
☼   $              $         ☼
☼                       $    ☼
☼  $                         ☼
☼                            ☼
☼        ☻x                  ☼
☼               ☺            ☼
☼        $ x                 ☼
☼        $  x                ☼
☼                            ☼
☼ $         x               $☼
☼         x                  ☼
☼         x    $             ☼
☼         x                  ☼
☼    $                       ☼
☼                            ☼
☼                       $    ☼
☼                            ☼
☼                            ☼
☼                            ☼
☼            $               ☼
☼                            ☼
☼                            ☼
☼       $                $   ☼
☼                            ☼
☼                $           ☼
☼                            ☼
☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼</pre>

Первый символ строки соответствует ячейке расположенной в левом верхнем
углу и имеет координату [0, 0]. В этом примере — позиция героя
(символ ☺) — [8, 16].

[Расшифровка символов](elements.md)

Игра пошаговая, каждую секунду сервер посылает твоему клиенту (боту)
состояние обновленного поля на текущий момент и ожидает ответа команды герою.
За следующую секунду игрок должен успеть дать команду герою.
Если не успел — герой стоит на месте.

Команд несколько: UP, DOWN, LEFT, RIGHT – приводят к движению героя
в заданном направлении на 1 клетку; ACT - оставить бомбу.
Команды движения можно комбинировать с командой ACT, разделяя их
через запятую – это значит что за один такт игры будет оставлена бомба,
а потом движение (LEFT, ACT) или наоборот (ACT, LEFT)

Первостепенная задача – написать websocket клиента, который подключится к серверу.
Затем заставить героя слушаться команды. Таким образом, игрок подготовится
к основной игре. Основная задача – вести осмысленную игру и победить.